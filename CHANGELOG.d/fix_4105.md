* Fix bad interaction between instance deriving and type synonyms

  See #4105.
