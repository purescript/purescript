* Fix bad interaction between superclasses and type synonyms

  See #4101.
